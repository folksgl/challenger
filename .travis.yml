language: cpp
dist: xenial
env:
  global:
    secure: IGGLSHdfWkp7oy6FIB8oQtLzgyjC/hYXbRSf4roM+8MMTQE9PL1FSnuEGIZZyVKa/zfYLP7tDNzqvKK/tsQsps5oUr6m+LwX1PcoAkU59aCqeZaBBu9EsvhXHBdxiAU3eFS0to1aYRc6pOUyqfowIkBAjaUYP8auPHzme9rpwWufxVMrWwJHSKhnWdbvsFG6h30C87iHDHARY2ISJ2BcgQ27IY0ZGg8dNghQRdZiZ0jANF9RUB0m62SW1VAXgr4EOGpieJz1ByklArxS3G3/lMgeOB9QedSSFOHh8GBZoZsqrfIRU+MvWjr1BOPHOe+KXJvoFh3owKyXyNUj6uDdV6p87ejSJqlyoU1z0KRwFyZTM1dNqDmIAYJVlQuVFJVKfAINJfR8ozolApb49L0yvUJutEWIeDvBo0d4B1gBlu9+A779WmQlicsQKIcbTI8f9MS8NPZXh8Y6VZqirg26Uk9E+OA0Ts9bDCTfdI9vpcgVVAa/krRpr9Kc7vVsSel209NhGTAeoVHekXTGY2XANy9/SWazpuU+O2n/6BOONb5WfpSY+fMwakDCD09ml6rsSJyx0Ne+3BSuOg24nEgTZr1/B1w+jdkgxs8wVEiTZCve/+PpvPNlwnJo8Y2oaOZb1Wr1gkB6iC4jtTHA8MbciUGpaLOfYtKhxihs0Zo9Q4o=
addons:
  apt:
    packages:
    - cmake
    - make
    - lcov
  coverity_scan:
    project:
      name: folksgl/challenger
      version: 0.1
      description: Challenger Chess Engine
    build_command_prepend: cmake -H. -Bbuild
    build_command: cd build/ && make
    branch_pattern: master
compiler: gcc
before_install:
- pip install --user cpp-coveralls
script:
- cmake -H. -Bbuild
- cd build/
- make -j 8 && make test
after_success:
- make coverage
- coveralls -l challenger.info
